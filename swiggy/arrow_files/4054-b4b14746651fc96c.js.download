"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4054],{80314:function(e,l,n){n.r(l),n.d(l,{GridView:function(){return U},default:function(){return E}});var o=n(97458),i=n(52983),t=n(75800),s=n(96734),a=n(34723),d=n(37210),r=n(83849),c=n.n(r),u=n(13074),h=n(26310),f=n(60892),v=n(57265);const m=(0,d.zo)("button",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:32,fontSize:14,fontWeight:700,padding:"4px 12px",borderRadius:8,backgroundColor:"#00C1A2",border:"none",color:"#FFF",cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00C1A2"},"&:focus":{outline:"none"},"&:active":{backgroundColor:"#00C1A2"}}),p=e=>{let{workspaceId:l}=e;const n=(0,s.SS)(a.AD.FILE_UPLOAD_LIMIT),{onClick:t}=(0,f.Z)({workspaceId:l}),{planName:d}=(0,v.g)(l),[r,u]=(0,i.useState)(!1),h=(0,i.useCallback)((()=>{u(!0)}),[]),p=(0,i.useCallback)((()=>{u(!1)}),[]);return(0,o.jsx)("div",{onMouseEnter:h,onMouseLeave:p,className:c()({"absolute top-0 bottom-0 left-0 right-0 w-full h-full z-10 rounded-md":!0}),children:r&&(0,o.jsxs)("div",{className:"flex flex-col items-center h-full p-5 space-y-5 bg-white border rounded-md border-gray-50 bg-opacity-90",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-700 line-clamp-5",children:["You can only access your ",n.value," most recently created files on your current ",d,". Upgrade to access all your files."]}),(0,o.jsx)(m,{onClick:t,children:"Upgrade"})]})})},C=e=>{let{animation:l,disableMenu:n,isSelected:i,onClick:t,onSelectionChange:s,selectable:a,selectionMode:d,showAddToCollection:r,showStatus:c=!0,showUpdatedUser:f,workspaceId:v}=e;var m,C,b,g,w,x,k;const j=(0,h.Q)(v);return(0,o.jsxs)("div",{className:"relative rounded-md",children:[j.length>0&&!j.includes(l.id)&&(0,o.jsx)(p,{workspaceId:l.project.workspaceId}),(0,o.jsx)(u.K,{scopes:l.animationPermissionScopes,animation:l,backgroundColor:l.backgroundColor,thumbnail:null===(g=l.fileObject)||void 0===g||null===(b=g.thumbnails)||void 0===b||null===(C=b.webp)||void 0===C||null===(m=C.medium)||void 0===m?void 0:m.url,title:l.name,url:null===(w=l.fileObject)||void 0===w?void 0:w.url,showUpdatedUser:f,username:l.modifiedBy?l.modifiedBy.name:null===(x=l.createdBy)||void 0===x?void 0:x.name,project:null===(k=l.project)||void 0===k?void 0:k.title,date:l.updatedAt,selectable:a,selected:i,onSelectionChange:s,selectionMode:d,showStatus:c,status:l.status,onClick:t,disableMenu:n,showAddToCollection:r,upgradeRequired:j.length>0&&!j.includes(l.id)})]})};var b=n(34038),g=n.n(b),w=n(78592),x=n(60877),k=n(16153),j=n(33553),y=n(31662),M=n(65026),N=n(26153);const S=g()((async()=>Promise.all([n.e(7255),n.e(2266),n.e(2885),n.e(7085),n.e(5599),n.e(2064),n.e(9737),n.e(6337),n.e(3281),n.e(9956),n.e(8125),n.e(1964)]).then(n.bind(n,18228))),{loadableGenerated:{webpack:()=>[18228]},ssr:!1}),L=e=>{let{disableMenu:l=!1,file:n,isSelected:t=!1,onClick:s,onSelectionChange:a,selectable:d=!1,selectionMode:r=!1}=e;var u,h,f,v,m,p,C,b,g,L,A;const[I,F]=(0,i.useState)(!1),[B,U]=(0,i.useState)(!1),{canFullAccess:E}=(0,y.a)({scopes:n.animationPermissionScopes||[]}),K=(0,i.useCallback)((()=>{U(!1)}),[]),_=(0,i.useCallback)((()=>{a&&a()}),[a]),D=(0,i.useCallback)((()=>{F(!0)}),[F]),z=(0,i.useCallback)((()=>{F(!1)}),[F]),V=(0,i.useCallback)((()=>{E()&&U(!0)}),[E]),q=(0,i.useCallback)((e=>{if(r&&a)a();else if(s){const l=N.Mq?e.metaKey:e.ctrlKey;s(l)}}),[a,s,r]),H=(0,i.useCallback)((e=>{if("Space"===e.key)if(r&&a)a();else if(s){const l=N.Mq?e.metaKey:e.ctrlKey;s(l)}}),[s,a,r]),P=(0,M.h)(q,V);return(0,o.jsxs)("div",{className:"relative z-0 group w-full aspect-square",onMouseEnter:D,onMouseLeave:z,children:[(0,o.jsx)("svg",{className:c()("absolute inset-0 w-full h-full",{"creator-drop-shadow":I}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:(0,o.jsx)("path",{fill:"white",id:"Vector_2",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881",stroke:"rgba(217, 224, 230, 1)"})}),(0,o.jsxs)("div",{className:"absolute inset-0 h-full w-full",children:[(0,o.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0 p-2",children:[(0,o.jsx)("div",{onKeyDown:H,onClick:q,className:"absolute inset-0 z-10 cursor-pointer"}),(0,o.jsx)("div",{className:"h-full p-4 -mx-2 border-b border-gray-50",children:(0,o.jsx)("div",{className:"h-full mx-auto transparency-grid-square",children:(0,o.jsx)(x.y,{src:(null===(v=n.fileObject)||void 0===v||null===(f=v.thumbnails)||void 0===f||null===(h=f.webp)||void 0===h||null===(u=h.medium)||void 0===u?void 0:u.url)||(null===(b=n.fileObject)||void 0===b||null===(C=b.thumbnails)||void 0===C||null===(p=C.png)||void 0===p||null===(m=p.medium)||void 0===m?void 0:m.url)})})})]}),(0,o.jsx)(S,{showActionsMenu:I,animation:n,isMenuDisabled:l,onTitleClick:P,showFilledIcon:I,projectName:null===(g=n.project)||void 0===g?void 0:g.title,showAddToCollection:!1,title:n.name,updatedDate:n.updatedAt,showUpdatedUser:!0,username:n.modifiedBy?"".concat(null===(L=n.modifiedBy)||void 0===L?void 0:L.firstName):"".concat(null===(A=n.createdBy)||void 0===A?void 0:A.firstName)})]}),(0,o.jsxs)("svg",{className:c()("absolute inset-0 w-full h-full pointer-events-none",{"text-actionPrimary":t,"text-gray-100":!t}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:[(0,o.jsxs)("g",{"clip-path":"url(#clip0_5690_42434)",children:[(0,o.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",fill:"white"}),(0,o.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",stroke:"rgba(217, 224, 230, 1)"}),t?(0,o.jsx)("path",{d:"M190.5 19.5C190.5 19.5 174.067 2 172.5 2L6.99945 1.5C1.50057 1.5 1.50002 1.5 1.50002 6.79112L1.5 201.5C1.5 208.5 1.5 208.5 7 208.5H203C208.5 208.5 208.5 208.5 208.5 203.137V39.9853C208.5 38.394 207.868 36.8679 206.743 35.7426L190.5 19.5Z",stroke:"currentColor","stroke-width":"3"}):(0,o.jsx)("path",{fill:"none",stroke:"currentColor",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_5690_42434",children:(0,o.jsx)("rect",{width:"210",height:"210",fill:"white"})})})]}),(0,o.jsx)("div",{className:"absolute z-20 flex justify-between w-full pr-2 top-2 right-0",children:(0,o.jsx)(k.Z,{variant:"caption-1",tag:"div",className:"ml-auto",children:(I&&d||t||r)&&E()&&(0,o.jsx)(j.X,{label:"check-card",checked:t,onChange:_})})}),(0,o.jsx)(w.default,{show:B,animationId:n.id,animationName:n.name,close:K})]})};var A=n(41062),I=n(8391),F=n(70705),B=n(55243);const U=e=>{let{canLoadMore:l=!1,files:n,isLoadingMore:s=!1,onLoadMore:a=(()=>{}),onSelectionChange:d,onFolderDownloadAllClick:r,selectable:c=!1,selectedAnimations:u,selectionMode:h,showUpdatedUser:f=!0,showAddToCollection:v=!1,showStatus:m=!0,onItemClick:p,workspaceId:b}=e;const g=(0,t.useRecoilValue)(I.Y),w=(0,i.useCallback)((e=>()=>{d&&d(e.id)}),[d]),x=(0,i.useCallback)((e=>l=>p(e,l)),[p]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:n.map((e=>{const l="file-card-".concat(e.id);var n,i;return(0,F.qR)(e)?(0,o.jsx)(A.A,{onClick:x(e),title:e.name,username:(null===(n=e.modifiedBy)||void 0===n?void 0:n.name)||(null===(i=e.createdBy)||void 0===i?void 0:i.name),date:e.updatedAt,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes,onDownloadAllClick:r,selectable:c,selectionMode:h,onSelectionChange:w(e),isSelected:!!u&&Boolean(u.some((l=>l.id===e.id)))},l):(0,F.QR)(e)?(0,o.jsx)(C,{animation:e,showUpdatedUser:f,showStatus:m,selectable:c,isSelected:!!u&&Boolean(u.some((l=>l.id===e.id))),onSelectionChange:w(e),selectionMode:h,onClick:x(e),disableMenu:g>0,showAddToCollection:v,workspaceId:b},l):(0,F.xK)(e)?(0,o.jsx)(L,{file:e,onClick:x(e),selectable:c,onSelectionChange:w(e),isSelected:!!u&&Boolean(u.includes(e)),disableMenu:g>0,selectionMode:h}):(0,o.jsx)(o.Fragment,{})}))}),l&&(0,o.jsx)(B.Q,{className:"col-span-full",onLoadMore:a,loadingMore:s})]})};var E=U},26310:function(e,l,n){n.d(l,{Q:function(){return r}});var o=n(52983),i=n(80794),t=n(68441),s=n(63005),a=n(34723),d=n(26153);const r=e=>{const l=(0,t.hp)(e),n=(0,d.fK)(l),[r]=(0,i.aM)({query:s.Z$,pause:!e||!l||!n||n!==a.Qi.FREE,variables:{workspaceId:e}});return(0,o.useMemo)((()=>{var e;return n===a.Qi.FREE&&(null===(e=r.data)||void 0===e?void 0:e.fileIdsWithinLimit)||[]}),[r,n])}},5126:function(e,l,n){n.d(l,{E:function(){return t}});var o=n(99559),i=n(28860);function t(e,l,n){const t=(0,i.Q)(e,null==n?void 0:n.in);return isNaN(l)?(0,o.L)((null==n?void 0:n.in)||e,NaN):l?(t.setDate(t.getDate()+l),t):t}},27629:function(e,l,n){n.d(l,{y:function(){return i}});var o=n(99559);function i(e){return(0,o.L)(e,Date.now())}},52973:function(e,l,n){n.d(l,{K:function(){return t}});var o=n(962),i=n(92898);function t(e,l,n){const[t,s]=(0,o.d)(null==n?void 0:n.in,e,l);return+(0,i.b)(t)==+(0,i.b)(s)}},26422:function(e,l,n){n.d(l,{F:function(){return i}});var o=n(962);function i(e,l,n){const[i,t]=(0,o.d)(null==n?void 0:n.in,e,l);return i.getFullYear()===t.getFullYear()}},55282:function(e,l,n){n.d(l,{X:function(){return s}});var o=n(99559),i=n(27629),t=n(26422);function s(e,l){return(0,t.F)((0,o.L)((null==l?void 0:l.in)||e,e),(0,i.y)((null==l?void 0:l.in)||e))}},10422:function(e,l,n){n.d(l,{z:function(){return s}});var o=n(99559),i=n(27629),t=n(52973);function s(e,l){return(0,t.K)((0,o.L)((null==l?void 0:l.in)||e,e),(0,i.y)((null==l?void 0:l.in)||e))}},11331:function(e,l,n){n.d(l,{g:function(){return a}});var o=n(99559),i=n(27629),t=n(52973),s=n(52123);function a(e,l){return(0,t.K)((0,o.L)((null==l?void 0:l.in)||e,e),(0,s.k)((0,i.y)((null==l?void 0:l.in)||e),1))}},52123:function(e,l,n){n.d(l,{k:function(){return i}});var o=n(5126);function i(e,l,n){return(0,o.E)(e,-l,n)}}}]);