(function(){let _=null;const j=n=>{let t,r,i,s;const u=()=>{console.log("previousEventHandler",_),_&&(console.log("removed PreviousEventHandler"),window.removeEventListener("message",_,!1))},d=p=>{t&&p.origin!==t||(i?i(p.data):s&&s["on"+p.data.eventName]&&typeof s["on"+p.data.eventName]=="function"&&s["on"+p.data.eventName](p.data.payload))},g=(p,E)=>{r==null||r.postMessage({eventName:p,payload:E},"*")},h=()=>{u()};return r=(n==null?void 0:n.target)||(window==null?void 0:window.parent),t=n==null?void 0:n.origin,i=n==null?void 0:n.handler,s=n==null?void 0:n.callbacks,u(),window.addEventListener("message",d,!1),_=d,{destroyMessenger:h,sendMessage:g}},z=({dialogId:n,title:t,body:r,buttons:i})=>{const s=document.createElement("div");s.id=n;let u=`<div style="font-size: 16px; font-weight: 600; color: rgb(54, 65, 82); padding-bottom: 4px; border-width: 0px; border-bottom-width: 1px; border-style: solid; border-color: rgb(226, 232, 240)">${t}</div>`,d=i.map(h=>`<button id="${h.id}" style="${h.style}">${h.label}</button>`).join(""),g=`
    <div style="position: fixed; left: 0; top: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1000000; background-color: rgba(0, 0, 0, 0.2);" >
      <div style="background-color: white;  border-radius: 4px; max-width: 360px; max-height: 75%; padding: 16px; display: flex; flex-direction: column; gap: 16px;">
        <div style="display: flex; flex-direction: column; gap: 12px;">
          ${t&&u||""}
          ${r||""}
        </div>
        <div style="display: flex; gap: 8px; justify-content: flex-end;">
          ${d}
        </div>
      </div>
    </div>
  `;return s.innerHTML=g,document.body.appendChild(s),i.forEach(h=>{var p;(p=document.getElementById(h.id))==null||p.addEventListener("click",h.onClick)}),s},H=n=>{n==null||n.remove()},C="cursor: pointer; background-color: rgb(38, 83, 107); border-style: none; border-radius: 4px; font-size: 12px; font-weight: 500; color: white; padding: 8px",S="cursor: pointer; background-color: white; border: 1px solid rgb(226, 232, 240); border-radius: 4px; font-size: 12px; font-weight: 500; color: rgb(54, 65, 82); padding: 8px",L={dialogId:"dialog-popup-info",body:'<div style="font-size: 14px; font-weight: 600;">You will be prompted to proceed with payment in a secure popup, Please proceed to pay.</div>',buttons:[{id:"dialog-primary-btn",label:"Proceed to Pay",style:C}]},P={dialogId:"dialog-popup-blocked",title:"A popup is blocked by your browser.",body:`<div style="font-size: 14px; font-weight: 400; color: rgb(54, 65, 82);">
        Please allow <span style="font-weight: 600;">Pop-ups and redirects</span>  in your browser settings.
        </div>
        <div style="color: rgb(240, 82, 82); font-size: 14px; font-weight: 600; line-height: 21px;">
        Once you have enabled the browser popup settings, please proceed by clicking on the 'Pay Now' button.
        </div>`,buttons:[{id:"dialog-cancel-btn",label:"Cancel",style:S},{id:"dialog-primary-btn",label:"Pay Now",style:C}]},W="2.0";(()=>{let n="tz-checkout",t=null,r=null,i=null,s=null,u=null,d=null,g=null,h=0,p=!1;console.log("new github repo code");const E=e=>{var a,o;!(e!=null&&e.eventName)||(e.eventName[0]==="_"&&typeof b[e.eventName]=="function"&&b[e.eventName](e),e.eventName[0]!=="_"&&b["on"+e.eventName]&&typeof b["on"+e.eventName]=="function"&&b["on"+e.eventName](e),e.eventName[0]!=="_"&&((a=t==null?void 0:t.callbacks)==null?void 0:a["on"+e.eventName])&&typeof((o=t==null?void 0:t.callbacks)==null?void 0:o["on"+e.eventName])=="function"&&t.callbacks["on"+e.eventName](e))},B=()=>{var o;n=((o=t==null?void 0:t.config)==null?void 0:o.domTarget)||"tz-checkout";const e=document.getElementById(n);if(!e)return null;e.innerHTML="",Object.assign(e.style,{display:"none",justifyContent:"center",alignItems:"center",padding:"var(--container_padding)",minHeight:"var(--container_minHeight)",maxHeight:"var(--container_maxHeight)",minWidth:"var(--container_minWidth)",maxWidth:"var(--container_maxWidth)",width:"min(100%,var(--container_maxWidth))",background:"var(--container_background)",backdropFilter:"var(--container_backdrop)",zIndex:"var(--container_zIndex)"});const a=document.createElement("iframe");return a.setAttribute("id","tz-iframe"),a.setAttribute("allow","clipboard-write *"),a.style.width="clamp(var(--container-iframe_minWidth),100%,var(--container-iframe_maxWidth))",a.style.height="clamp(var(--container-iframe_minHeight),100%,var(--container-iframe_maxHeight))",a.style.minHeight="var(--container-iframe_minHeight)",a.style.maxHeight="var(--container-iframe_maxHeight)",a.style.minWidth="var(--container-iframe_minWidth)",a.style.maxWidth="var(--container-iframe_maxWidth)",a.style.border="none",a.style.borderRadius="var(--container-iframe_borderRadius)",a.style.boxShadow="var(--container-iframe_boxshadow)",a.style.background="var(--container-iframe_background)",e.appendChild(a),window.addEventListener("beforeunload",()=>{d!=null&&d.closed||d==null||d.close()}),a},x=()=>{const e=document.getElementById(n);e.innerHTML="",e.style={},r=null},R=()=>{x(),s==null||s(),i=null,s=null,t=null,p=!1},O=e=>{if(console.timeEnd("preload-delay"),R(),e&&(t=e),r=B(),!r)return;const{sendMessage:a,destroyMessenger:o}=j({sdkVersion:W,origin:"https://checkout.tazapay.com",target:r.contentWindow,handler:E});return i=a,s=o,r.setAttribute("src","https://checkout.tazapay.com"+(t!=null&&t.payment?"/checkout":"")),console.time("preload-iframe"),!0},N=()=>{var a,o,l,c,f,m,y,w,k,v,D;let e={theme:t.theme,style:t.style,options:{sdkVersion:W,...t.config,_platform:(o=(a=t.config)==null?void 0:a._platform)!=null?o:"native",_escrowToken:(c=(l=t.config)==null?void 0:l._escrowToken)!=null?c:!1,_shopifyToken:(m=(f=t.config)==null?void 0:f._shopifyToken)!=null?m:null,parentOrigin:(w=(y=t.config)==null?void 0:y.origins)!=null?w:window.location.origin,popup:(v=(k=t.config)==null?void 0:k.popup)!=null?v:!1,redirectionTarget:$((D=t.config)==null?void 0:D.redirectionTarget)}};t.clientToken&&(e.clientToken=t.clientToken),t.payment&&(e.payment=t.payment),i==null||i("Init",e)},$=e=>["self","new_window","modal"].includes(e)?e:"self",A=()=>{var o,l;const e=document.getElementById(n);t.style||(t.style={}),(o=t.config)!=null&&o.popup&&Object.assign(e.style,{position:"fixed",top:0,left:0,height:"100vh",width:"100vw",overflow:"scroll","flex-direction":"column"});const a={container_zIndex:"1",container_padding:"1rem",container_minWidth:"0%",container_maxWidth:"750px",container_minHeight:"300px",container_maxHeight:"99999px","container-iframe_minWidth":"100%","container-iframe_maxWidth":"750px","container-iframe_minHeight":"300px","container-iframe_maxHeight":"99999px",container_background:"transparent","container-iframe_background":"transparent",container_backdrop:"","container-iframe_borderRadius":"4px","container-iframe_boxshadow":"0px 10px 15px rgba(226, 232, 240, 0.32), 0px 4px 6px rgba(226, 232, 240, 0.5)",modal_padding:"0rem",modal_zIndex:"9999",modal_minWidth:"0%",modal_maxWidth:"100%",modal_minHeight:"300px",modal_maxHeight:"100vh",modal_background:"rgb(0 0 0 / 0.3)",modal_backdrop:"blur(1px)","modal-iframe_minWidth":"0%","modal-iframe_maxWidth":"680px","modal-iframe_minHeight":"300px","modal-iframe_maxHeight":"100%","modal-iframe_background":"white","modal-iframe_borderRadius":"4px","modal-iframe_boxshadow":"0px 10px 15px rgba(226, 232, 240, 0.32), 0px 4px 6px rgba(226, 232, 240, 0.5)"};t.payment&&(r.style.height="45px",Object.assign(a,{container_minHeight:"10px",container_background:"white",container_padding:"0rem","container-iframe_minHeight":"10px","container-iframe_boxshadow":"","container-iframe_background":"transparent","container-iframe-loading_background":"transparent"})),(l=t.config)!=null&&l.popup&&Object.assign(a,{container_zIndex:"9999",container_padding:"0rem",container_background:"rgb(0 0 0 / 0.3)",container_backdrop:"blur(1px)",container_minWidth:"100vw",container_maxWidth:"100vw","container-iframe_borderRadius":"4px","container-iframe_maxHeight":"700px","container-iframe_minWidth":"0%","container-iframe_maxWidth":"550px","container-iframe_background":"white"}),setTimeout(()=>{let c=document.documentElement.style;Object.keys(a).forEach(f=>{c.setProperty("--"+f,a[f])}),e.style.display="flex",t.style&&Object.keys(t.style).filter(f=>f.includes("container")).forEach(f=>{c.setProperty("--"+f,t.style[f])})},0)},F=e=>{var c;let a=!r||!document.body.contains(r),o=((c=e==null?void 0:e.config)==null?void 0:c.domTarget)!==n,l=JSON.stringify(t)===JSON.stringify(e);if((a||o||l)&&O(e),!!r)return t||(t=e),A(),p&&N(),!0},V=e=>{const a=document.getElementById(n);a&&e&&(Object.keys(e).filter(o=>o.includes("container")).forEach(o=>{a.style.setProperty("--"+o,e[o])}),i==null||i("Dispatch",{method:"updateStyle",payload:{style:e}}))},J=e=>{let a=r&&document.body.contains(r);if(!(!r||!t)&&a&&p){if(e.clientToken)t.clientToken=e.clientToken;else if(!t.clientToken)return;let o={clientToken:t.clientToken,billingDetails:e.billingDetails};return i==null||i("InvokePayment",o),!0}},K=e=>{i==null||i("ValidatePayment",e)},Y=e=>{const{url:a,html:o}=e,l="tz-modal-container";let c=document.getElementById(l);c?c.innerHTML="":(c=document.createElement("div"),c.setAttribute("id",l)),Object.assign(c.style,{position:"fixed",top:0,left:0,display:"flex","flex-direction":"column",justifyContent:"center",alignItems:"center",padding:"var(--modal_padding)",height:"100vh",width:"100vw",minHeight:"var(--modal_minHeight)",maxHeight:"var(--modal_maxHeight)",minWidth:"var(--modal_minWidth)",maxWidth:"var(--modal_maxWidth)",background:"var(--modal_background)",backdropFilter:"var(--modal_backdrop)",zIndex:"var(--modal_zIndex)"});let f=document.documentElement.style;t.style&&Object.keys(t.style).filter(y=>y.includes("modal")).forEach(y=>{f.setProperty("--"+y,t.style[y])});const m=document.createElement("iframe");return m.setAttribute("id","tz-iframe"),a?m.setAttribute("src",a):o&&m.setAttribute("srcdoc",o),m.style.width="clamp(var(--modal-iframe_minWidth),100%,var(--modal-iframe_maxWidth))",m.style.height="clamp(var(--modal-iframe_minHeight),95%,var(--modal-iframe_maxHeight))",m.style.minHeight="var(--modal-iframe_minHeight)",m.style.maxHeight="var(--modal-iframe_maxHeight)",m.style.minWidth="var(--modal-iframe_minWidth)",m.style.maxWidth="var(--modal-iframe_maxWidth)",m.style.border="none",m.style.borderRadius="var(--modal-iframe_borderRadius)",m.style.boxShadow="var(--modal-iframe_boxshadow)",m.style.background="var(--modal-iframe_background)",c.appendChild(m),c},q=e=>{g&&document.contains(g)&&g.remove(),e!=null&&e.silent||i==null||i("Dispatch",{method:"modalDestroyed",payload:e})},T=(e,a=!1,o=!1)=>{a?(H(u),o?(P.buttons[0].onClick=()=>b.onCloseWindow(e),P.buttons[1].onClick=()=>I(e),u=z(P)):(L.buttons[0].onClick=()=>I(e),u=z(L))):I(e,!0)},I=(e,a=!1)=>{let o=e.payload.width||700,l=e.payload.height||700;const c=(w,k,v)=>Math.min(Math.max(w,k),v);o=c(o,340,screen.width),l=c(l,480,screen.height);let f=(screen.width-o)/2,m=(screen.height-l)/2,y=`width=${o},height=${l},left=${f},top=${m}`;d=window.open(e.payload.url,"popUpWindow",y),!d||d.closed||typeof d.closed>"u"?(i==null||i("Dispatch",{method:"popupBlocked",payload:e.payload}),t&&t.callbacks&&t.callbacks.onPopupBlocked&&t.callbacks.onPopupBlocked({url:e.payload.url}),a?T(e,!0,!1):T(e,!0,!0)):(H(u),h=setInterval(()=>{d.closed&&(clearInterval(h),i==null||i("Dispatch",{method:"popupClosed"}))},1e3),i==null||i("Dispatch",{method:"popupOpened"}),e.payload.html&&d.document.write(e.payload.html))},b={onLoad:()=>{console.timeEnd("preload-iframe"),p=!0,t&&N()},onPaymentMethodSelected:()=>{},onPaymentAttempted:()=>{},onPaymentMethodReset:()=>{},onLoadParentLocation:e=>{e.payload.html?window.document.write(e.payload.html):window.top.location.href=e.payload.url},onLoadModalLocation:e=>{g=Y(e.payload),document.body.appendChild(g),i==null||i("Dispatch",{method:"modalCreated",payload:e.payload})},onCloseModal:e=>{q(e.payload)},onLoadPopupLocation:e=>{T(e)},onCloseWindow:e=>{var a;h&&clearInterval(h),window.focus(),d==null||d.close(),H(u),(a=e.payload)!=null&&a.silent||i==null||i("Dispatch",{method:"popupClosed"})},onPaymentCancel:e=>{var a;(a=t.config)!=null&&a.popup&&x(),e.payload.url&&onLoadParentLocation(e)},onPaymentReport:e=>{var a;(a=t.config)!=null&&a.clearOnComplete&&x(),e.payload.url&&onLoadParentLocation(e)},onPaymentSuccess:e=>{var a;(a=t.config)!=null&&a.clearOnComplete&&x(),e.payload.url&&onLoadParentLocation(e)},onPaymentFail:e=>{var a;(a=t.config)!=null&&a.clearOnComplete&&x(),e.payload.url&&onLoadParentLocation(e)},onResizeIframe:e=>{r&&(r.style.height=e.payload.height+"px")},_Dispatch:e=>{const{method:a,payload:o}=e.payload;switch(a){case"openChildWindow":window.open(o.url,o.target||"_blank",o.windowFeatures);break;case"download":const l=document.createElement("a");l.href=o.href,l.setAttribute("download",`${o.download}`),document.body.appendChild(l),l.click(),setTimeout(()=>{document.body.removeChild(l)},5e3);break}}};window.tazapay||(Object.defineProperty(window,"tazapay",{enumerable:!1,configurable:!1,writable:!1,value:Object.freeze({preload:O,checkout:F,confirmCardPayment:J,validate:K,updateStyle:V,getVersion:()=>W})}),window.dispatchEvent(new Event("tzInit"))),console.log("Tazapay SDK ready"),console.time("preload-delay")})()})();
